(this["webpackJsonp07-carousel"]=this["webpackJsonp07-carousel"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,s){},function(t,e,s){},function(t,e,s){},,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var i=s(2),o=s.n(i),n=s(3),r=s.n(n),c=(s(14),s(15),s(4)),a=s(5),u=s(1),h=s(7),l=s(6);s(16);var v=function(t,e,s){var i=0;requestAnimationFrame((function o(){!function(t,e,i,o){var n,r=o-i;n=s&&"fastSwipe"===s?Math.sin(Math.PI/2*t/(e-1)):(Math.sin(Math.PI/2*-1+Math.PI*t/(e-1))+1)/2,document.querySelector(".CarouselContent").style.left="".concat(i+r*n,"px")}(i,15,t,e),++i<15&&requestAnimationFrame(o)}))},p=s(0);var d=function(t,e,s){if(!s||t.length<=e)return Array(t.length).fill("").reduce((function(e,s,i){return e.push(Object(p.jsx)("div",{children:t[i]},i)),e}),[]);var i=t.reduce((function(s,i,o){return o>=t.length-e&&s.push(Object(p.jsx)("div",{children:t[o]},o-t.length)),s}),[]),o=t.reduce((function(e,s,i){return e.push(Object(p.jsx)("div",{children:t[i]},i)),e}),[]),n=t.reduce((function(s,i,o){return o<e&&s.push(Object(p.jsx)("div",{children:t[o]},o+t.length)),s}),[]);return i.concat(o,n)},m=s.p+"static/media/right_arrow.4e2eb212.svg",f=s.p+"static/media/left_arrow.9d3f788d.svg";s(18);var b=function(t){var e={width:"".concat(t.size,"px"),height:"".concat(t.size,"px"),top:"calc((100% - 60px) / 2 - ".concat(t.size/2,"px)"),left:"".concat("previous"===t.moveTo?t.position:"auto","px"),right:"".concat("next"===t.moveTo?t.position:"auto","px")},s="CarouselButton";t.isActive||(s=s.concat(" CarouselButton_unactive"));var i="previous"===t.moveTo?f:m,o=t.isActive?function(){var e="previous"===t.moveTo?-1:1;t.onClick(e)}:null;return Object(p.jsx)("button",{className:s,onClick:o,style:e,children:Object(p.jsx)("img",{src:i,alt:"".concat(t.moveTo," button")})})};s(19),s(20);var P=function(t){return Object(p.jsx)("button",{className:"CarouselPageLink",onClick:function(){t.onClick(t.id)},children:t.id+1})};var j=function(t){return Object(p.jsx)("div",{className:"CarouselPagination",children:Array(t.itemsQuantity).fill("").reduce((function(e,s,i){return e.push(Object(p.jsx)(P,{id:i,onClick:t.onClick},i.toString())),e}),[])})},g=s(9),x=(s(21),function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(t){var i;return Object(c.a)(this,s),(i=e.call(this,t)).state={startPoint:[],direction:null,startTime:null},i.mouseEvents=["mousedown","mousemove","mouseup"],i.touchEvents=["touchstart","touchmove","touchend"],i.getClientCoords=i.getClientCoords.bind(Object(u.a)(i)),i.onMoveStart=i.onMoveStart.bind(Object(u.a)(i)),i.onMove=i.onMove.bind(Object(u.a)(i)),i.onMoveEnd=i.onMoveEnd.bind(Object(u.a)(i)),i}return Object(a.a)(s,[{key:"getClientCoords",value:function(t){return this.mouseEvents.includes(t.type)?[t.clientX,t.clientY]:this.touchEvents.includes(t.type)?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:void 0}},{key:"onMoveStart",value:function(t){this.mouseEvents.includes(t.type)&&(t.preventDefault(),document.addEventListener("mousemove",this.onMove),document.addEventListener("mouseup",this.onMoveEnd));var e=this.getClientCoords(t);this.setState({startPoint:e,startTime:Date.now()}),this.props.onMoveStart(e[0])}},{key:"onMove",value:function(t){if(this.state.direction)"left"!==this.state.direction&&"right"!==this.state.direction||this.props.onMove(this.getClientCoords(t)[0]);else{var e=this.getClientCoords(t),s=Math.abs(e[0]-this.state.startPoint[0]),i=Math.abs(e[1]-this.state.startPoint[1]);this.setState({direction:"".concat(s<i?"vertical":"".concat(e[0]-this.state.startPoint[0]>0?"right":"left"))})}}},{key:"onMoveEnd",value:function(t){(this.mouseEvents.includes(t.type)&&(document.removeEventListener("mousemove",this.onMove),document.removeEventListener("mouseup",this.onMoveEnd)),["right","left"].includes(this.state.direction))&&(Date.now()-this.state.startTime<150?this.props.onFastSwipeEnd(this.getClientCoords(t)[0],this.state.direction):this.props.onMoveEnd(this.getClientCoords(t)[0]));this.setState({direction:null})}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"CarouselContent",ref:this.props.forwardRef,onMouseDown:this.onMoveStart,onTouchStart:this.onMoveStart,onTouchMove:this.onMove,onTouchEnd:this.onMoveEnd,children:this.props.children})}}]),s}(o.a.Component)),M=o.a.forwardRef((function(t,e){return Object(p.jsx)(x,Object(g.a)(Object(g.a)({},t),{},{forwardRef:e}))})),O=function(t){Object(h.a)(s,t);var e=Object(l.a)(s);function s(t){var o;return Object(c.a)(this,s),(o=e.call(this,t)).carouselContent=Object(i.createRef)(),o.carousel=Object(i.createRef)(),o.itemsQuantity=o.props.children.length,o.itemsPerView=o.props.itemsPerView?o.props.itemsPerView:1,o.gap=void 0!==o.props.gap?o.props.gap:10,o.loop=!!o.props.loop&&o.props.loop,o.DOMItemsQuantity=o.loop&&o.itemsQuantity>o.itemsPerView?o.itemsQuantity+2*o.itemsPerView:o.itemsQuantity,o.state={wasMounted:!1,currentPos:0,correctPositions:[],prevButtonIsActive:o.loop&&o.itemsQuantity>o.itemsPerView,nextButtonIsActive:o.itemsQuantity>o.itemsPerView,touchPoint:0},o.saveTouchPoint=o.saveTouchPoint.bind(Object(u.a)(o)),o.touchMove=o.touchMove.bind(Object(u.a)(o)),o.buttonMove=o.buttonMove.bind(Object(u.a)(o)),o.paginationMove=o.paginationMove.bind(Object(u.a)(o)),o.positionCorrection=o.positionCorrection.bind(Object(u.a)(o)),o.fastSwipe=o.fastSwipe.bind(Object(u.a)(o)),o.arrowButtonsManage=o.arrowButtonsManage.bind(Object(u.a)(o)),o.getLoop=o.getLoop.bind(Object(u.a)(o)),o}return Object(a.a)(s,[{key:"componentDidMount",value:function(){var t=this;if(!this.state.wasMounted){var e=this.carousel.current.clientWidth,s=(e-this.gap*(this.itemsPerView-1))/this.itemsPerView,i="repeat(".concat(this.DOMItemsQuantity,", ").concat(s,"px)"),o=this.itemsQuantity<=this.itemsPerView?[(e-(s*this.itemsQuantity+this.gap*(this.itemsQuantity-1)))/2]:Array(this.DOMItemsQuantity-this.itemsPerView+1).fill(0).reduce((function(e,i,o){return e.push(o*(s+t.gap)*-1),e}),[]),n=this.itemsQuantity<=this.itemsPerView?(e-(s*this.itemsQuantity+this.gap*(this.itemsQuantity-1)))/2:this.loop?o[this.itemsPerView]:0;this.carouselContent.current.style.left="".concat(n,"px"),this.carouselContent.current.style.gap="0px ".concat(this.gap,"px"),this.carouselContent.current.style.gridTemplateColumns=i,this.setState({currentPos:n,correctPositions:o,wasMounted:!0})}}},{key:"saveTouchPoint",value:function(t){this.setState({touchPoint:t})}},{key:"touchMove",value:function(t){var e=t-this.state.touchPoint;this.carouselContent.current.style.left="".concat(this.state.currentPos+e,"px")}},{key:"positionCorrection",value:function(t){var e=this.state.currentPos-this.state.touchPoint+t,s=this.state.correctPositions.map((function(t){return Math.abs(e-t)})),i=s.reduce((function(t,e){return e<t?e:t})),o=s.indexOf(i),n=this.state.correctPositions[o];this.arrowButtonsManage(this.state.correctPositions.indexOf(n)),v(e,n),this.getLoop(n)}},{key:"fastSwipe",value:function(t,e){var s=this.state.currentPos-this.state.touchPoint+t,i=this.state.correctPositions.indexOf(this.state.currentPos),o="left"===e?1:-1,n=this.state.correctPositions[i+o];void 0===n?(n=this.state.currentPos,v(s,n)):v(s,n,"fastSwipe"),this.arrowButtonsManage(this.state.correctPositions.indexOf(n)),this.getLoop(n)}},{key:"buttonMove",value:function(t){var e=this.state.correctPositions.indexOf(this.state.currentPos),s=this.state.correctPositions[e+t];this.arrowButtonsManage(this.state.correctPositions.indexOf(s)),v(this.state.currentPos,s),this.getLoop(s)}},{key:"paginationMove",value:function(t){var e=this.loop&&this.itemsQuantity>this.itemsPerView?this.itemsPerView:0,s=this.state.correctPositions[t+e];void 0===s&&(s=this.state.correctPositions[this.itemsQuantity-this.itemsPerView]),s!==this.state.currentPos&&(this.arrowButtonsManage(this.state.correctPositions.indexOf(s)),v(this.state.currentPos,s),this.setState({currentPos:s}))}},{key:"arrowButtonsManage",value:function(t){this.loop||(0===t?this.setState({prevButtonIsActive:!1}):0===t||this.state.prevButtonIsActive||this.setState({prevButtonIsActive:!0}),t===this.state.correctPositions.length-1?this.setState({nextButtonIsActive:!1}):t===this.state.correctPositions.length-1||this.state.nextButtonIsActive||this.setState({nextButtonIsActive:!0}))}},{key:"getLoop",value:function(t){this.loop&&0===this.state.correctPositions.indexOf(t)&&this.state.correctPositions.length>1?(this.carouselContent.current.style.left=this.state.correctPositions[this.itemsQuantity],this.setState({currentPos:this.state.correctPositions[this.itemsQuantity]})):this.loop&&this.state.correctPositions.indexOf(t)===this.state.correctPositions.length-1&&this.state.correctPositions.length>1?(this.carouselContent.current.style.left=this.state.correctPositions[this.state.correctPositions.length-1-this.itemsQuantity],this.setState({currentPos:this.state.correctPositions[this.state.correctPositions.length-1-this.itemsQuantity]})):this.setState({currentPos:t})}},{key:"render",value:function(){return Object(p.jsxs)("div",{className:"Carousel__container",children:[Object(p.jsxs)("div",{className:"Carousel",ref:this.carousel,children:[Object(p.jsx)(M,{onMoveStart:this.saveTouchPoint,onMove:this.touchMove,onMoveEnd:this.positionCorrection,onFastSwipeEnd:this.fastSwipe,ref:this.carouselContent,children:d(this.props.children,this.itemsPerView,this.loop)}),Object(p.jsx)(j,{onClick:this.paginationMove,itemsQuantity:this.itemsQuantity})]}),Object(p.jsx)(b,{moveTo:"previous",isActive:this.state.prevButtonIsActive,onClick:this.buttonMove,size:this.props.buttonSize,position:this.props.buttonPos}),Object(p.jsx)(b,{moveTo:"next",isActive:this.state.nextButtonIsActive,onClick:this.buttonMove,size:this.props.buttonSize,position:this.props.buttonPos})]})}}]),s}(i.Component);var y=function(){function t(t,e){return Math.floor(t+Math.random()*Math.floor(e+1-t))}var e,s={content:t(1,10),gap:5*t(0,4),itemsPerView:t(3,5),loop:0===t(0,1),buttonSize:5*t(4,10),buttonPos:0===t(0,1)?10:0};return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("h1",{className:"text",children:["Number of items: ",s.content]}),Object(p.jsxs)("h1",{className:"text",children:["Gap: ",s.gap,"px"]}),Object(p.jsxs)("h1",{className:"text",children:["Items per view: ",s.itemsPerView]}),Object(p.jsxs)("h1",{className:"text",children:["Loop: ",s.loop.toString()]}),Object(p.jsxs)("h1",{className:"text",children:["Buttons size: ",s.buttonSize,"px"]}),Object(p.jsx)("h1",{className:"text",children:"Current settings was generated randomly. If you need to check how it works with other settings just refresh the page"}),Object(p.jsx)(O,{gap:s.gap,itemsPerView:s.itemsPerView,loop:s.loop,buttonSize:s.buttonSize,buttonPos:s.buttonPos,children:(e=s.content,Array(e).fill("").reduce((function(t,e,s){return t.push(Object(p.jsx)("div",{className:"anyClassName",children:s+1},s)),t}),[]))})]})};r.a.render(Object(p.jsx)(y,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.c090f1c1.chunk.js.map